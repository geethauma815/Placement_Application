{"ast":null,"code":"var _jsxFileName = \"/home/rgukt-basar/Downloads/placement-prep-starter/client/src/components/PostJob.js\",\n  _s = $RefreshSig$();\n/*import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\n\nfunction PostJob() {\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\",\n  });\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const platformFee = \"0.001\"; // ETH or MATIC\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      alert(\"Wallet connection failed\");\n    }\n  };\n\n  const payPlatformFee = async () => {\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const tx = await signer.sendTransaction({\n        to: \"0xF2f8466780f45536bC254d0882A4F6608b631b88\",\n        value: ethers.parseEther(platformFee),\n      });\n      await tx.wait();\n      alert(\"Payment Successful\");\n      setPaid(true);\n    } catch (err) {\n      alert(\"Payment failed: \" + err.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map((t) => t.trim()),\n    };\n\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n    } catch (err) {\n      alert(\"Error: \" + err.response.data.error);\n    }\n  };\n\n  return (\n    <div style={containerStyle}>\n      <div style={formBox}>\n        <h2 style={headingStyle}>Post a New Job</h2>\n\n        {}\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button onClick={() => setMode(\"paid\")} style={mode === \"paid\" ? activeBtn : inactiveBtn}>\n            Post With Payment\n          </button>\n          <button onClick={() => setMode(\"free\")} style={mode === \"free\" ? activeBtn : inactiveBtn}>\n            Post Without Payment (Demo)\n          </button>\n        </div>\n\n        {}\n        {mode === \"paid\" && !walletAddress && (\n          <button onClick={connectWallet} style={btnStyle}>Connect Wallet</button>\n        )}\n        {mode === \"paid\" && walletAddress && !paid && (\n          <button onClick={payPlatformFee} style={btnStyle}>Pay {platformFee} ETH</button>\n        )}\n        {mode === \"paid\" && paid && (\n          <p style={{ color: \"green\", fontWeight: \"bold\" }}>✔ Payment Complete</p>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <input name=\"_id\" placeholder=\"Job ID\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"profile\" placeholder=\"Profile\" onChange={handleChange} required style={inputStyle} />\n          <textarea name=\"desc\" placeholder=\"Description\" onChange={handleChange} required style={textareaStyle} />\n          <input name=\"exp\" type=\"number\" placeholder=\"Experience (years)\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"techs\" placeholder=\"Techs (comma separated)\" onChange={handleChange} required style={inputStyle} />\n          <button type=\"submit\" style={submitStyle}>\n            Post Job\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Styles\nconst containerStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  minHeight: \"100vh\",\n  background: \"linear-gradient(to right, #e0c3fc, #8ec5fc)\",\n};\n\nconst formBox = {\n  background: \"#fff\",\n  padding: \"2rem\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.1)\",\n  width: \"400px\",\n  textAlign: \"center\",\n};\n\nconst headingStyle = {\n  marginBottom: \"1rem\",\n  color: \"#4b0082\",\n};\n\nconst inputStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst textareaStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  height: \"80px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst btnStyle = {\n  marginBottom: \"1rem\",\n  padding: \"10px 20px\",\n  backgroundColor: \"#6a1b9a\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"5px\",\n  cursor: \"pointer\",\n  fontSize: \"15px\",\n};\n\nconst submitStyle = {\n  width: \"100%\",\n  padding: \"12px\",\n  backgroundColor: \"#4b0082\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  fontSize: \"16px\",\n  cursor: \"pointer\",\n};\n\nconst activeBtn = {\n  ...btnStyle,\n  backgroundColor: \"#4b0082\",\n  marginRight: \"10px\",\n};\n\nconst inactiveBtn = {\n  ...btnStyle,\n  backgroundColor: \"#bbb\",\n  marginRight: \"10px\",\n};\n\nexport default PostJob;*/\n/*import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\n\nfunction PostJob() {\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\",\n  });\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const platformFee = \"0.00001\"; // in MATIC\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      alert(\"Wallet connection failed\");\n    }\n  };\n\n  const payPlatformFee = async () => {\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const tx = await signer.sendTransaction({\n        to: \"0x0A499e74e5C49e111a9D86Ae6A5f1306982782Bf\",\n        value: ethers.parseEther(platformFee),\n      });\n      await tx.wait();\n      alert(\"Payment Successful\");\n      setPaid(true);\n    } catch (err) {\n      alert(\"Payment failed: \" + err.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map((t) => t.trim()),\n    };\n\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n    } catch (err) {\n      alert(\"Error: \" + err?.response?.data?.error || \"Something went wrong\");\n    }\n  };\n\n  return (\n    <div style={containerStyle}>\n      <div style={formBox}>\n        <h2 style={headingStyle}>Post a New Job</h2>\n\n        {}\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button onClick={() => setMode(\"paid\")} style={mode === \"paid\" ? activeBtn : inactiveBtn}>\n            Post With Payment\n          </button>\n          <button onClick={() => setMode(\"free\")} style={mode === \"free\" ? activeBtn : inactiveBtn}>\n            Post Without Payment (Demo)\n          </button>\n        </div>\n\n        {}\n        {mode === \"paid\" && !walletAddress && (\n          <button onClick={connectWallet} style={btnStyle}>Connect Wallet</button>\n        )}\n        {mode === \"paid\" && walletAddress && !paid && (\n          <button onClick={payPlatformFee} style={btnStyle}>Pay {platformFee} MATIC</button>\n        )}\n        {mode === \"paid\" && paid && (\n          <p style={{ color: \"green\", fontWeight: \"bold\" }}>✔ Payment Complete</p>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <input name=\"_id\" placeholder=\"Job ID\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"profile\" placeholder=\"Profile\" onChange={handleChange} required style={inputStyle} />\n          <textarea name=\"desc\" placeholder=\"Description\" onChange={handleChange} required style={textareaStyle} />\n          <input name=\"exp\" type=\"number\" placeholder=\"Experience (years)\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"techs\" placeholder=\"Techs (comma separated)\" onChange={handleChange} required style={inputStyle} />\n          <button type=\"submit\" style={submitStyle}>\n            Post Job\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Styles\nconst containerStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  minHeight: \"100vh\",\n  background: \"linear-gradient(to right, #e0c3fc, #8ec5fc)\",\n};\n\nconst formBox = {\n  background: \"#fff\",\n  padding: \"2rem\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.1)\",\n  width: \"400px\",\n  textAlign: \"center\",\n};\n\nconst headingStyle = {\n  marginBottom: \"1rem\",\n  color: \"#4b0082\",\n};\n\nconst inputStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst textareaStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  height: \"80px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst btnStyle = {\n  marginBottom: \"1rem\",\n  padding: \"10px 20px\",\n  backgroundColor: \"#6a1b9a\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"5px\",\n  cursor: \"pointer\",\n  fontSize: \"15px\",\n};\n\nconst submitStyle = {\n  width: \"100%\",\n  padding: \"12px\",\n  backgroundColor: \"#4b0082\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  fontSize: \"16px\",\n  cursor: \"pointer\",\n};\n\nconst activeBtn = {\n  ...btnStyle,\n  backgroundColor: \"#4b0082\",\n  marginRight: \"10px\",\n};\n\nconst inactiveBtn = {\n  ...btnStyle,\n  backgroundColor: \"#bbb\",\n  marginRight: \"10px\",\n};\n\nexport default PostJob;*/\n\nimport { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostJob() {\n  _s();\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\"\n  });\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const platformFee = \"0.00001\"; // in AMOY for Polygon Amoy Testnet\n  const receiverAddress = \"0x0A499e74e5C49e111a9D86Ae6A5f1306982782Bf\";\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n    try {\n      setLoading(true);\n      await window.ethereum.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: \"0x13882\"\n        }] // Polygon Amoy chainId\n      });\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({\n        method: \"eth_requestAccounts\"\n      });\n      setWalletAddress(accounts[0]);\n      const balance = await provider.getBalance(accounts[0]);\n      console.log(\"AMOY Balance:\", ethers.formatEther(balance));\n    } catch (err) {\n      if (err.code === 4902) {\n        await addPolygonAmoyNetwork();\n        await connectWallet();\n      } else {\n        alert(\"Wallet connection failed: \" + err.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addPolygonAmoyNetwork = async () => {\n    try {\n      await window.ethereum.request({\n        method: \"wallet_addEthereumChain\",\n        params: [{\n          chainId: \"0x13882\",\n          chainName: \"Polygon Amoy Testnet\",\n          nativeCurrency: {\n            name: \"AMOY\",\n            symbol: \"AMOY\",\n            decimals: 18\n          },\n          rpcUrls: [\"https://rpc-amoy.polygon.technology\"],\n          blockExplorerUrls: [\"https://www.oklink.com/amoy\"]\n        }]\n      });\n    } catch (err) {\n      alert(\"Failed to add Polygon Amoy network: \" + err.message);\n    }\n  };\n  const payPlatformFee = async () => {\n    try {\n      setLoading(true);\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const feeData = await provider.getFeeData();\n      const value = ethers.parseEther(platformFee);\n      let gasEstimate;\n      try {\n        gasEstimate = await provider.estimateGas({\n          from: walletAddress,\n          to: receiverAddress,\n          value: value\n        });\n      } catch (estimateError) {\n        console.warn(\"Gas estimation failed, using default:\", estimateError);\n        gasEstimate = ethers.toBigInt(21000);\n      }\n      const balance = await provider.getBalance(walletAddress);\n      const estimatedCost = (feeData.maxFeePerGas || feeData.gasPrice) * gasEstimate + value;\n      if (balance < estimatedCost) {\n        throw new Error(`Insufficient funds. Need ${ethers.formatEther(estimatedCost)} AMOY but have ${ethers.formatEther(balance)}`);\n      }\n      const txRequest = {\n        to: receiverAddress,\n        value: value,\n        gasLimit: gasEstimate,\n        maxFeePerGas: feeData.maxFeePerGas,\n        maxPriorityFeePerGas: feeData.maxPriorityFeePerGas\n      };\n      const tx = await signer.sendTransaction(txRequest);\n      const receipt = await tx.wait();\n      if (receipt.status === 1) {\n        alert(\"Payment Successful\");\n        setPaid(true);\n      } else {\n        throw new Error(\"Transaction failed\");\n      }\n    } catch (err) {\n      console.error(\"Payment Error:\", err);\n      let errorMessage = err.reason || err.message;\n      if (err.code === \"ACTION_REJECTED\") {\n        errorMessage = \"Transaction was rejected by user\";\n      } else if (err.code === -32603) {\n        errorMessage = \"Network error. Please try again or check your gas settings.\";\n      }\n      alert(`Payment failed: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Properly defined handleSubmit function\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map(t => t.trim()),\n      payerAddress: mode === \"paid\" ? walletAddress : null\n    };\n    try {\n      setLoading(true);\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n      setForm({\n        _id: \"\",\n        profile: \"\",\n        desc: \"\",\n        exp: \"\",\n        techs: \"\"\n      });\n      if (mode === \"paid\") setPaid(false);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(\"Error: \" + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ... (your existing styles remain the same)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: formBox,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: headingStyle,\n        children: \"Post a New Job\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"1rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMode(\"paid\"),\n          style: mode === \"paid\" ? activeBtn : inactiveBtn,\n          disabled: loading,\n          children: \"Post With Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setMode(\"free\"),\n          style: mode === \"free\" ? activeBtn : inactiveBtn,\n          disabled: loading,\n          children: \"Post Without Payment (Demo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this), mode === \"paid\" && !walletAddress && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: connectWallet,\n        style: btnStyle,\n        disabled: loading,\n        children: loading ? \"Connecting...\" : \"Connect Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 11\n      }, this), mode === \"paid\" && walletAddress && !paid && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: payPlatformFee,\n        style: btnStyle,\n        disabled: loading,\n        children: loading ? \"Processing...\" : `Pay ${platformFee} AMOY`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this), mode === \"paid\" && paid && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"green\",\n          fontWeight: \"bold\"\n        },\n        children: \"\\u2714 Payment Complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"_id\",\n          placeholder: \"Job ID\",\n          value: form._id,\n          onChange: handleChange,\n          required: true,\n          style: inputStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"profile\",\n          placeholder: \"Profile\",\n          value: form.profile,\n          onChange: handleChange,\n          required: true,\n          style: inputStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"desc\",\n          placeholder: \"Description\",\n          value: form.desc,\n          onChange: handleChange,\n          required: true,\n          style: textareaStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"exp\",\n          type: \"number\",\n          placeholder: \"Experience (years)\",\n          value: form.exp,\n          onChange: handleChange,\n          required: true,\n          style: inputStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"techs\",\n          placeholder: \"Techs (comma separated)\",\n          value: form.techs,\n          onChange: handleChange,\n          required: true,\n          style: inputStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: submitStyle,\n          disabled: loading,\n          children: loading ? \"Submitting...\" : \"Post Job\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 552,\n    columnNumber: 5\n  }, this);\n}\n_s(PostJob, \"90WiOmMvCmWZvF7OxxM2XUToPK8=\");\n_c = PostJob;\nexport default PostJob;\nvar _c;\n$RefreshReg$(_c, \"PostJob\");","map":{"version":3,"names":["useState","ethers","axios","jsxDEV","_jsxDEV","PostJob","_s","mode","setMode","form","setForm","_id","profile","desc","exp","techs","walletAddress","setWalletAddress","paid","setPaid","loading","setLoading","platformFee","receiverAddress","handleChange","e","target","name","value","connectWallet","window","ethereum","alert","request","method","params","chainId","provider","BrowserProvider","accounts","balance","getBalance","console","log","formatEther","err","code","addPolygonAmoyNetwork","message","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","payPlatformFee","signer","getSigner","feeData","getFeeData","parseEther","gasEstimate","estimateGas","from","to","estimateError","warn","toBigInt","estimatedCost","maxFeePerGas","gasPrice","Error","txRequest","gasLimit","maxPriorityFeePerGas","tx","sendTransaction","receipt","wait","status","error","errorMessage","reason","handleSubmit","preventDefault","payload","parseInt","split","map","t","trim","payerAddress","res","post","data","_err$response","_err$response$data","response","style","containerStyle","children","formBox","headingStyle","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onClick","activeBtn","inactiveBtn","disabled","btnStyle","color","fontWeight","onSubmit","placeholder","onChange","required","inputStyle","textareaStyle","type","submitStyle","_c","$RefreshReg$"],"sources":["/home/rgukt-basar/Downloads/placement-prep-starter/client/src/components/PostJob.js"],"sourcesContent":["/*import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\n\nfunction PostJob() {\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\",\n  });\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const platformFee = \"0.001\"; // ETH or MATIC\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      alert(\"Wallet connection failed\");\n    }\n  };\n\n  const payPlatformFee = async () => {\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const tx = await signer.sendTransaction({\n        to: \"0xF2f8466780f45536bC254d0882A4F6608b631b88\",\n        value: ethers.parseEther(platformFee),\n      });\n      await tx.wait();\n      alert(\"Payment Successful\");\n      setPaid(true);\n    } catch (err) {\n      alert(\"Payment failed: \" + err.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map((t) => t.trim()),\n    };\n\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n    } catch (err) {\n      alert(\"Error: \" + err.response.data.error);\n    }\n  };\n\n  return (\n    <div style={containerStyle}>\n      <div style={formBox}>\n        <h2 style={headingStyle}>Post a New Job</h2>\n\n        {}\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button onClick={() => setMode(\"paid\")} style={mode === \"paid\" ? activeBtn : inactiveBtn}>\n            Post With Payment\n          </button>\n          <button onClick={() => setMode(\"free\")} style={mode === \"free\" ? activeBtn : inactiveBtn}>\n            Post Without Payment (Demo)\n          </button>\n        </div>\n\n        {}\n        {mode === \"paid\" && !walletAddress && (\n          <button onClick={connectWallet} style={btnStyle}>Connect Wallet</button>\n        )}\n        {mode === \"paid\" && walletAddress && !paid && (\n          <button onClick={payPlatformFee} style={btnStyle}>Pay {platformFee} ETH</button>\n        )}\n        {mode === \"paid\" && paid && (\n          <p style={{ color: \"green\", fontWeight: \"bold\" }}>✔ Payment Complete</p>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <input name=\"_id\" placeholder=\"Job ID\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"profile\" placeholder=\"Profile\" onChange={handleChange} required style={inputStyle} />\n          <textarea name=\"desc\" placeholder=\"Description\" onChange={handleChange} required style={textareaStyle} />\n          <input name=\"exp\" type=\"number\" placeholder=\"Experience (years)\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"techs\" placeholder=\"Techs (comma separated)\" onChange={handleChange} required style={inputStyle} />\n          <button type=\"submit\" style={submitStyle}>\n            Post Job\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Styles\nconst containerStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  minHeight: \"100vh\",\n  background: \"linear-gradient(to right, #e0c3fc, #8ec5fc)\",\n};\n\nconst formBox = {\n  background: \"#fff\",\n  padding: \"2rem\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.1)\",\n  width: \"400px\",\n  textAlign: \"center\",\n};\n\nconst headingStyle = {\n  marginBottom: \"1rem\",\n  color: \"#4b0082\",\n};\n\nconst inputStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst textareaStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  height: \"80px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst btnStyle = {\n  marginBottom: \"1rem\",\n  padding: \"10px 20px\",\n  backgroundColor: \"#6a1b9a\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"5px\",\n  cursor: \"pointer\",\n  fontSize: \"15px\",\n};\n\nconst submitStyle = {\n  width: \"100%\",\n  padding: \"12px\",\n  backgroundColor: \"#4b0082\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  fontSize: \"16px\",\n  cursor: \"pointer\",\n};\n\nconst activeBtn = {\n  ...btnStyle,\n  backgroundColor: \"#4b0082\",\n  marginRight: \"10px\",\n};\n\nconst inactiveBtn = {\n  ...btnStyle,\n  backgroundColor: \"#bbb\",\n  marginRight: \"10px\",\n};\n\nexport default PostJob;*/\n/*import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\n\nfunction PostJob() {\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\",\n  });\n\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const platformFee = \"0.00001\"; // in MATIC\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" });\n      setWalletAddress(accounts[0]);\n    } catch (err) {\n      alert(\"Wallet connection failed\");\n    }\n  };\n\n  const payPlatformFee = async () => {\n    try {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      const tx = await signer.sendTransaction({\n        to: \"0x0A499e74e5C49e111a9D86Ae6A5f1306982782Bf\",\n        value: ethers.parseEther(platformFee),\n      });\n      await tx.wait();\n      alert(\"Payment Successful\");\n      setPaid(true);\n    } catch (err) {\n      alert(\"Payment failed: \" + err.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map((t) => t.trim()),\n    };\n\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n    } catch (err) {\n      alert(\"Error: \" + err?.response?.data?.error || \"Something went wrong\");\n    }\n  };\n\n  return (\n    <div style={containerStyle}>\n      <div style={formBox}>\n        <h2 style={headingStyle}>Post a New Job</h2>\n\n        {}\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button onClick={() => setMode(\"paid\")} style={mode === \"paid\" ? activeBtn : inactiveBtn}>\n            Post With Payment\n          </button>\n          <button onClick={() => setMode(\"free\")} style={mode === \"free\" ? activeBtn : inactiveBtn}>\n            Post Without Payment (Demo)\n          </button>\n        </div>\n\n        {}\n        {mode === \"paid\" && !walletAddress && (\n          <button onClick={connectWallet} style={btnStyle}>Connect Wallet</button>\n        )}\n        {mode === \"paid\" && walletAddress && !paid && (\n          <button onClick={payPlatformFee} style={btnStyle}>Pay {platformFee} MATIC</button>\n        )}\n        {mode === \"paid\" && paid && (\n          <p style={{ color: \"green\", fontWeight: \"bold\" }}>✔ Payment Complete</p>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <input name=\"_id\" placeholder=\"Job ID\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"profile\" placeholder=\"Profile\" onChange={handleChange} required style={inputStyle} />\n          <textarea name=\"desc\" placeholder=\"Description\" onChange={handleChange} required style={textareaStyle} />\n          <input name=\"exp\" type=\"number\" placeholder=\"Experience (years)\" onChange={handleChange} required style={inputStyle} />\n          <input name=\"techs\" placeholder=\"Techs (comma separated)\" onChange={handleChange} required style={inputStyle} />\n          <button type=\"submit\" style={submitStyle}>\n            Post Job\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n// Styles\nconst containerStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  minHeight: \"100vh\",\n  background: \"linear-gradient(to right, #e0c3fc, #8ec5fc)\",\n};\n\nconst formBox = {\n  background: \"#fff\",\n  padding: \"2rem\",\n  borderRadius: \"10px\",\n  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.1)\",\n  width: \"400px\",\n  textAlign: \"center\",\n};\n\nconst headingStyle = {\n  marginBottom: \"1rem\",\n  color: \"#4b0082\",\n};\n\nconst inputStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst textareaStyle = {\n  width: \"100%\",\n  padding: \"10px\",\n  height: \"80px\",\n  marginBottom: \"1rem\",\n  border: \"1px solid #ccc\",\n  borderRadius: \"5px\",\n};\n\nconst btnStyle = {\n  marginBottom: \"1rem\",\n  padding: \"10px 20px\",\n  backgroundColor: \"#6a1b9a\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"5px\",\n  cursor: \"pointer\",\n  fontSize: \"15px\",\n};\n\nconst submitStyle = {\n  width: \"100%\",\n  padding: \"12px\",\n  backgroundColor: \"#4b0082\",\n  color: \"white\",\n  border: \"none\",\n  borderRadius: \"6px\",\n  fontSize: \"16px\",\n  cursor: \"pointer\",\n};\n\nconst activeBtn = {\n  ...btnStyle,\n  backgroundColor: \"#4b0082\",\n  marginRight: \"10px\",\n};\n\nconst inactiveBtn = {\n  ...btnStyle,\n  backgroundColor: \"#bbb\",\n  marginRight: \"10px\",\n};\n\nexport default PostJob;*/\n\nimport { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport axios from \"axios\";\n\nfunction PostJob() {\n  const [mode, setMode] = useState(\"paid\"); // \"paid\" or \"free\"\n  const [form, setForm] = useState({\n    _id: \"\",\n    profile: \"\",\n    desc: \"\",\n    exp: \"\",\n    techs: \"\",\n  });\n  const [walletAddress, setWalletAddress] = useState(\"\");\n  const [paid, setPaid] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const platformFee = \"0.00001\"; // in AMOY for Polygon Amoy Testnet\n  const receiverAddress = \"0x0A499e74e5C49e111a9D86Ae6A5f1306982782Bf\";\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const connectWallet = async () => {\n    if (!window.ethereum) return alert(\"MetaMask not detected\");\n\n    try {\n      setLoading(true);\n      await window.ethereum.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{ chainId: \"0x13882\" }], // Polygon Amoy chainId\n      });\n\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const accounts = await window.ethereum.request({ \n        method: \"eth_requestAccounts\" \n      });\n      setWalletAddress(accounts[0]);\n      \n      const balance = await provider.getBalance(accounts[0]);\n      console.log(\"AMOY Balance:\", ethers.formatEther(balance));\n    } catch (err) {\n      if (err.code === 4902) {\n        await addPolygonAmoyNetwork();\n        await connectWallet();\n      } else {\n        alert(\"Wallet connection failed: \" + err.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addPolygonAmoyNetwork = async () => {\n    try {\n      await window.ethereum.request({\n        method: \"wallet_addEthereumChain\",\n        params: [{\n          chainId: \"0x13882\",\n          chainName: \"Polygon Amoy Testnet\",\n          nativeCurrency: {\n            name: \"AMOY\",\n            symbol: \"AMOY\",\n            decimals: 18\n          },\n          rpcUrls: [\"https://rpc-amoy.polygon.technology\"],\n          blockExplorerUrls: [\"https://www.oklink.com/amoy\"]\n        }]\n      });\n    } catch (err) {\n      alert(\"Failed to add Polygon Amoy network: \" + err.message);\n    }\n  };\n\n  const payPlatformFee = async () => {\n    try {\n      setLoading(true);\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      const signer = await provider.getSigner();\n      \n      const feeData = await provider.getFeeData();\n      const value = ethers.parseEther(platformFee);\n      \n      let gasEstimate;\n      try {\n        gasEstimate = await provider.estimateGas({\n          from: walletAddress,\n          to: receiverAddress,\n          value: value\n        });\n      } catch (estimateError) {\n        console.warn(\"Gas estimation failed, using default:\", estimateError);\n        gasEstimate = ethers.toBigInt(21000);\n      }\n\n      const balance = await provider.getBalance(walletAddress);\n      const estimatedCost = (feeData.maxFeePerGas || feeData.gasPrice) * gasEstimate + value;\n      \n      if (balance < estimatedCost) {\n        throw new Error(\n          `Insufficient funds. Need ${ethers.formatEther(estimatedCost)} AMOY but have ${ethers.formatEther(balance)}`\n        );\n      }\n\n      const txRequest = {\n        to: receiverAddress,\n        value: value,\n        gasLimit: gasEstimate,\n        maxFeePerGas: feeData.maxFeePerGas,\n        maxPriorityFeePerGas: feeData.maxPriorityFeePerGas\n      };\n\n      const tx = await signer.sendTransaction(txRequest);\n      const receipt = await tx.wait();\n\n      if (receipt.status === 1) {\n        alert(\"Payment Successful\");\n        setPaid(true);\n      } else {\n        throw new Error(\"Transaction failed\");\n      }\n    } catch (err) {\n      console.error(\"Payment Error:\", err);\n      let errorMessage = err.reason || err.message;\n      \n      if (err.code === \"ACTION_REJECTED\") {\n        errorMessage = \"Transaction was rejected by user\";\n      } else if (err.code === -32603) {\n        errorMessage = \"Network error. Please try again or check your gas settings.\";\n      }\n      \n      alert(`Payment failed: ${errorMessage}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Properly defined handleSubmit function\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (mode === \"paid\" && !paid) {\n      return alert(\"Please pay the platform fee first\");\n    }\n\n    const payload = {\n      ...form,\n      exp: parseInt(form.exp),\n      techs: form.techs.split(\",\").map((t) => t.trim()),\n      payerAddress: mode === \"paid\" ? walletAddress : null\n    };\n\n    try {\n      setLoading(true);\n      const res = await axios.post(\"http://localhost:5000/api/jobs\", payload);\n      alert(res.data.message);\n      setForm({\n        _id: \"\",\n        profile: \"\",\n        desc: \"\",\n        exp: \"\",\n        techs: \"\",\n      });\n      if (mode === \"paid\") setPaid(false);\n    } catch (err) {\n      alert(\"Error: \" + (err.response?.data?.error || err.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ... (your existing styles remain the same)\n\n  return (\n    <div style={containerStyle}>\n      <div style={formBox}>\n        <h2 style={headingStyle}>Post a New Job</h2>\n\n        <div style={{ marginBottom: \"1rem\" }}>\n          <button \n            onClick={() => setMode(\"paid\")} \n            style={mode === \"paid\" ? activeBtn : inactiveBtn}\n            disabled={loading}\n          >\n            Post With Payment\n          </button>\n          <button \n            onClick={() => setMode(\"free\")} \n            style={mode === \"free\" ? activeBtn : inactiveBtn}\n            disabled={loading}\n          >\n            Post Without Payment (Demo)\n          </button>\n        </div>\n\n        {mode === \"paid\" && !walletAddress && (\n          <button onClick={connectWallet} style={btnStyle} disabled={loading}>\n            {loading ? \"Connecting...\" : \"Connect Wallet\"}\n          </button>\n        )}\n        {mode === \"paid\" && walletAddress && !paid && (\n          <button onClick={payPlatformFee} style={btnStyle} disabled={loading}>\n            {loading ? \"Processing...\" : `Pay ${platformFee} AMOY`}\n          </button>\n        )}\n        {mode === \"paid\" && paid && (\n          <p style={{ color: \"green\", fontWeight: \"bold\" }}>✔ Payment Complete</p>\n        )}\n\n        <form onSubmit={handleSubmit}>\n          <input \n            name=\"_id\" \n            placeholder=\"Job ID\" \n            value={form._id}\n            onChange={handleChange} \n            required \n            style={inputStyle} \n          />\n          <input \n            name=\"profile\" \n            placeholder=\"Profile\" \n            value={form.profile}\n            onChange={handleChange} \n            required \n            style={inputStyle} \n          />\n          <textarea \n            name=\"desc\" \n            placeholder=\"Description\" \n            value={form.desc}\n            onChange={handleChange} \n            required \n            style={textareaStyle} \n          />\n          <input \n            name=\"exp\" \n            type=\"number\" \n            placeholder=\"Experience (years)\" \n            value={form.exp}\n            onChange={handleChange} \n            required \n            style={inputStyle} \n          />\n          <input \n            name=\"techs\" \n            placeholder=\"Techs (comma separated)\" \n            value={form.techs}\n            onChange={handleChange} \n            required \n            style={inputStyle} \n          />\n          <button type=\"submit\" style={submitStyle} disabled={loading}>\n            {loading ? \"Submitting...\" : \"Post Job\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PostJob;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACjB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC;IAC/BW,GAAG,EAAE,EAAE;IACPC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE,EAAE;IACPC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,KAAK,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}